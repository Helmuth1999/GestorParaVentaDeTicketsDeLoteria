@model IEnumerable<GestorParaVentaDeLoteria.Modelo.SorteosHistorico>

@{
    ViewBag.Title = "Details";
    GestorParaVentaDeLoteria.LogicaDeNegocio.AdministradorDeSorteos administradorDeSorteos = new GestorParaVentaDeLoteria.LogicaDeNegocio.AdministradorDeSorteos();
    int idSorteo=0;
}

<h2>Historial de modificaciones de sorteo</h2>

<table class="table">
    <tr>
        <th>
            Nombre del usuario
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TipoDeModificacion)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DescripcionDeLaModificacion)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Id_AspNetUser)
            @{idSorteo = item.IdSorteo;
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TipoDeModificacion)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DescripcionDeLaModificacion)
        </td>
    </tr>
}

</table>

<div>
    <h4>Detalle de sorteo</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Fecha
        </dt>

        <dd>
            @{
               GestorParaVentaDeLoteria.Modelo.Sorteos elSorteo= administradorDeSorteos.ConsultarSorteo(idSorteo);
            }

            @Html.DisplayFor(model => elSorteo.Fecha)
        </dd>

        <dt>
            Estado
        </dt>

        <dd>
            @Html.DisplayFor(model => elSorteo.Estado)
        </dd>

    </dl>
</div>

<div>
    @Html.ActionLink("Back to List", "Index")
</div>
